<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div style="height: 160px">
        <img id='ball' src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Soccerball_shade.svg/313px-Soccerball_shade.svg.png?20080623152134" alt="" style="position: absolute; top: 0; left: 0; width: 5%"><br>
    </div>
</body>
<script>

    let element = document.getElementById('ball');
    element.style.position = 'absolute';
    element.style.left = 0;    
    let ball_w = element.clientWidth;                                   // Chiều rộng quả bóng;
    let win_w = window.innerWidth;                                      // Chiều rộng window;
    let ball_h = element.clientHeight;                                  // Chiều cao quả bóng;
    let win_h = window.innerHeight;                                     // Chiều cao window;
    function RightArrow() {     
        if (win_w - parseInt(element.style.left) - 2*ball_w <= 0) { 
            let delta_left = win_w - parseInt(element.style.left) - ball_w;
        element.style.left = parseInt(element.style.left) + delta_left  + 'px';
        }        
        else {
        element.style.left = parseInt(element.style.left) + 50 + 'px';
        }
    }

    function LeftArrow() {
        if (parseInt(element.style.left) <= ball_w) {
            element.style.left = parseInt(element.style.left) + -parseInt(element.style.left) + 'px';
        }
        else {
            element.style.left = parseInt(element.style.left) + -50 + 'px';
        }
    }

    function UpArrow() {
        if (parseInt(element.style.top) <= ball_h) {
            element.style.top = parseInt(element.style.top) - parseInt(element.style.top) + 'px';
        }
        else {
            element.style.top = parseInt(element.style.top) + -50 + 'px';
        }
    }

    function DownArrow() {
        if (win_h - parseInt(element.style.top) - 2 * ball_h <= 0) {
            let delta_top = win_h - parseInt(element.style.top) - ball_h;
            element.style.top = parseInt(element.style.top) + delta_top + 'px';
        }
        else {
            element.style.top = parseInt(element.style.top) + 50 + 'px';
        }
    }

        
    // function LeftArrow() {
    //     let element = document.getElementById('ball');
    //     element.style.left = parseInt(element.style.left) + -50 + 'px';
    // }
    // function UpArrow() {
    //     let element = document.getElementById('ball');
    //     element.style.top = parseInt(element.style.top) + -50 + 'px';
    // }
    // function RightArrow() {
    //     let element = document.getElementById('ball');
    //     element.style.left = parseInt(element.style.left) + 50 + 'px';
    // }
    // function DownArrow() {
    //     let element = document.getElementById('ball');
    //     element.style.top = parseInt(element.style.top) + 50 + 'px';
    // }
    function callKey(evt) {                         //evt là sự kiện nhấn phím
        switch (evt.keyCode) {                      //lấy keyCode của sự kiện nhấn phím và so sánh với keyCode của các phím arrow
            case 37:
                LeftArrow();
                break;
            case 38:
                UpArrow()  ;
                break; 
            case 39:
                RightArrow()  ;
                break;
            case 40:
                DownArrow()  ;
                break;
        }
    }
    window.onload = docReady() 
    function docReady() {        
        addEventListener('keydown', callKey);    
    }
</script>
</html>